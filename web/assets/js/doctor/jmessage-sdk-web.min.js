/*!
 * jmessage-sdk-web.js
 * http://docs.jiguang.cn/client/im_sdk_js/
 * Version: 1.1.0
 *
 * Copyright 2016 jiguang
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.JIM=e()}}(function(){return function e(t,n,o){function i(s,_){if(!n[s]){if(!t[s]){var a="function"==typeof require&&require;if(!_&&a)return a(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return i(n?n:e)},u,u.exports,e,t,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){!function(){function e(e){this.message=e}var t="undefined"!=typeof n?n:self,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.prototype=new Error,e.prototype.name="InvalidCharacterError",t.btoa||(t.btoa=function(t){for(var n,i,r=String(t),s=0,_=o,a="";r.charAt(0|s)||(_="=",s%1);a+=_.charAt(63&n>>8-s%1*8)){if(i=r.charCodeAt(s+=.75),i>255)throw new e("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|i}return a}),t.atob||(t.atob=function(t){var n=String(t).replace(/=+$/,"");if(n.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,r,s=0,_=0,a="";r=n.charAt(_++);~r&&(i=s%4?64*i+r:r,s++%4)?a+=String.fromCharCode(255&i>>(-2*s&6)):0)r=o.indexOf(r);return a})}()},{}],2:[function(e,t,n){"use strict";var o=e(4)(),i=e(1);t.exports=function(){function e(e,n){n.on(e.events.ACK,function(e){_&&console.log("ack:"+JSON.stringify(e));var t,n;p[e.rid]&&(clearTimeout(p[e.rid].time_out_task),t=p[e.rid].ack_callback,n=p[e.rid].resp_callback),t&&t(e),!n&&delete p[e.rid]}),n.on(e.events.INIT,function(n){t(e.events.INIT,n)}),n.on(e.events.REGISTER,function(n){t(e.events.REGISTER,n)}),n.on(e.events.LOGIN,function(n){t(e.events.LOGIN,n)}),n.on(e.events.GET_USER_INFO,function(n){t(e.events.GET_USER_INFO,n)}),n.on(e.events.GET_ACROSS_USER_INFO,function(n){t(e.events.GET_ACROSS_USER_INFO,n)}),n.on(e.events.S_SINGLE_TEXT,function(n){t(e.events.S_SINGLE_TEXT,n)}),n.on(e.events.S_ACROSS_SINGLE_TEXT,function(n){t(e.events.S_ACROSS_SINGLE_TEXT,n)}),n.on(e.events.SEND_GROUP_MSG,function(n){t(e.events.SEND_GROUP_MSG,n)}),n.on(e.events.CREATE_GROUP,function(n){t(e.events.CREATE_GROUP,n)}),n.on(e.events.GET_GROUPS_LIST,function(n){t(e.events.GET_GROUPS_LIST,n)}),n.on(e.events.GET_GROUP_INFO,function(n){t(e.events.GET_GROUP_INFO,n)}),n.on(e.events.ADD_GROUP_MEMBER,function(n){t(e.events.ADD_GROUP_MEMBER,n)}),n.on(e.events.ADD_ACROSS_GROUP_MEMBER,function(n){t(e.events.ADD_ACROSS_GROUP_MEMBER,n)}),n.on(e.events.DEL_GROUP_MEMBER,function(n){t(e.events.DEL_GROUP_MEMBER,n)}),n.on(e.events.DEL_ACROSS_GROUP_MEMBER,function(n){t(e.events.DEL_ACROSS_GROUP_MEMBER,n)}),n.on(e.events.GET_GROUP_MEMBERS,function(n){t(e.events.GET_GROUP_MEMBERS,n)}),n.on(e.events.UPDATE_GROUP_INFO,function(n){t(e.events.UPDATE_GROUP_INFO,n)}),n.on(e.events.EXIT_GROUP,function(n){t(e.events.EXIT_GROUP,n)}),n.on(e.events.GET_CONVERSATIONS,function(n){t(e.events.GET_CONVERSATIONS,n)}),n.on(e.events.NO_DISTURB,function(n){t(e.events.NO_DISTURB,n)}),n.on(e.events.ADD_MSG_NO_DISTURB_SINGLE,function(n){t(e.events.ADD_MSG_NO_DISTURB_SINGLE,n)}),n.on(e.events.DELETE_MSG_NO_DISTURB_SINGLE,function(n){t(e.events.DELETE_MSG_NO_DISTURB_SINGLE,n)}),n.on(e.events.ADD_MSG_NO_DISTURB_GROUP,function(n){t(e.events.ADD_MSG_NO_DISTURB_GROUP,n)}),n.on(e.events.DELETE_MSG_NO_DISTURB_GROUP,function(n){t(e.events.DELETE_MSG_NO_DISTURB_GROUP,n)}),n.on(e.events.ADD_MSG_NO_DISTURB_GLOBAL,function(n){t(e.events.ADD_MSG_NO_DISTURB_GLOBAL,n)}),n.on(e.events.DELETE_MSG_NO_DISTURB_GLOBAL,function(n){t(e.events.DELETE_MSG_NO_DISTURB_GLOBAL,n)}),n.on(e.events.GET_UPLOAD_TOKEN,function(n){t(e.events.GET_UPLOAD_TOKEN,n)}),n.on(e.events.GET_BLACK_LIST,function(n){t(e.events.GET_BLACK_LIST,n)}),n.on(e.events.ADD_BLACK_LIST,function(n){t(e.events.ADD_BLACK_LIST,n)}),n.on(e.events.DEL_BLACK_LIST,function(n){t(e.events.DEL_BLACK_LIST,n)}),n.on(e.events.REGISTER,function(n){t(e.events.REGISTER,n)})}function t(e,t){_&&console.log(e+":"+JSON.stringify(t));var n;t.rid&&p[t.rid]&&(n=p[t.rid].resp_callback,n&&n(t),delete p[t.rid])}function n(e){this.client=e,this.version=1,this.from_platform="web",this.from_appkey=s}var r,s,_,a,c,u,g,f=function(){this.version="1.0.0"},m="http://media.file.jpush.cn/",d=1,p={},l={},E=f.prototype;return E.events={ACK:"ack",INIT:"c_init",LOGIN:"login",LOGOUT:"logout",GET_USER_INFO:"get_user_info",GET_ACROSS_USER_INFO:"get_across_user_info",S_SINGLE_TEXT:"s_single_text",S_ACROSS_SINGLE_TEXT:"s_across_single_text",MSG_SYNC:"msg_sync",MSG_RECV:"msg_recv",SEND_GROUP_MSG:"send_group_msg",CREATE_GROUP:"create_group",GET_GROUPS_LIST:"get_groups_list",GET_GROUP_INFO:"get_group_info",ADD_GROUP_MEMBER:"add_group_member",ADD_ACROSS_GROUP_MEMBER:"add_across_group_member",DEL_GROUP_MEMBER:"del_group_member",DEL_ACROSS_GROUP_MEMBER:"del_across_group_member",GET_GROUP_MEMBERS:"get_group_members",UPDATE_GROUP_INFO:"update_group_info",EXIT_GROUP:"exit_group",EVENT_NOTIFICATION:"event_notification",GET_CONVERSATIONS:"get_conversations",GET_UPLOAD_TOKEN:"get_upload_token",NO_DISTURB:"no_disturb",ADD_MSG_NO_DISTURB_SINGLE:"add_msg_no_disturb_single",DELETE_MSG_NO_DISTURB_SINGLE:"delete_msg_no_disturb_single",ADD_MSG_NO_DISTURB_GROUP:"add_msg_no_disturb_group",DELETE_MSG_NO_DISTURB_GROUP:"delete_msg_no_disturb_group",ADD_MSG_NO_DISTURB_GLOBAL:"add_msg_no_disturb_global",DELETE_MSG_NO_DISTURB_GLOBAL:"delete_msg_no_disturb_global",DISCONNECT:"disconnect",GET_BLACK_LIST:"get_black_list",ADD_BLACK_LIST:"add_black_list",DEL_BLACK_LIST:"del_black_list",REGISTER:"register"},E.init=function(e){var t=e?e:{};c=window.WebSocket?["websocket"]:["polling"],_=t.debug?t.debug:!1,r=t.address?t.address:"wss://ws.im.jpush.cn",u=t.debug?3:0,a=t.timeout?t.timeout:3e4,_&&console.log("transport with:"+c)},E.register=function(t,n,i,s,f,m,d){if(!c||!r||!a)return console.error("必须先执行JIM.init()才可以进行JIM.register()操作");var p=this;_&&console.log("connect to "+r),g=io(r,{transports:c,reconnection:!0,autoConnect:!0,"force new connection":!0,reconnectionDelay:500,reconnectionDelayMax:1e3,timeout:a,"max reconnection attempts":1,"log level":u}),e(this,g),p.emitWithResp(p.events.INIT,i,function(e){e&&0==e.code?p.emitWithResp(p.events.REGISTER,{username:t,password:d?n:o(n)},function(e){s&&s(e)},f,m):(_&&console.log("init fail : "+JSON.stringify(e)),s&&s(e))},null,m),g&&p.onMsgReceive(s)},E.login=function(t,n,i,f,m,d,p){if(console.log("log"),!c||!r||!a)return console.error("必须先执行JIM.init()才可以进行JIM.login()操作");var E=this;s=i.appkey,_&&console.log("connect to "+r),g=io(r,{transports:c,reconnection:!0,autoConnect:!0,"force new connection":!0,reconnectionDelay:500,reconnectionDelayMax:1e3,timeout:a,"max reconnection attempts":1,"log level":u}),e(this,g),E.emitWithResp(E.events.INIT,i,function(e){e&&0==e.code?E.emitWithResp(E.events.LOGIN,{username:t,password:p?n:o(n)},function(e){e&&e.username?(l.state="online",l.username=e.username,f&&f(e)):e&&f&&resp(e)},m,d):(_&&console.log("init fail : "+JSON.stringify(e)),f&&f(e))},null,d),g&&E.onMsgReceive(f)},E.getUserInfo=function(e,t,n,o){var i=this;i.emitWithResp(i.events.GET_USER_INFO,{key:e},t,n,o)},E.getAcrossUserInfo=function(e,t,n,o,i){var r=this;r.emitWithResp(r.events.GET_ACROSS_USER_INFO,{key:e,appkey:t},n,o,i)},E.sendSingleMsg=function(e,t,o,i,r){new n(this).setType("single").setTarget(e).setText(t).send(o,i,r)},E.sendAcrossSingleMsg=function(e,t,o,i,r,s){new n(this).setType("across_single").setTarget(e).setAppkey(t).setText(o).send(i,r,s)},E.getUploadToken=function(e,t,n){var o=this;o.emitWithResp(o.events.GET_UPLOAD_TOKEN,{},e,t,n)},E.uploadImg=function(e){var t=this,n=s;e.appkey&&(n=e.appkey),t.getUploadToken(function(t){var o=new XMLHttpRequest;o.open("POST","http://sdk.im.jpush.cn/resource?type=image"),o.setRequestHeader("X-App-Key",s),o.setRequestHeader("Authorization","Basic "+i.btoa(l.username+":"+t.uptoken)),o.onreadystatechange=function(){if(4==this.readyState&&200==this.status){console.log(this.responseText);var t=JSON.parse(this.responseText);"single"==e.type?E.sendSinglePic(e.target_username,n,t,e.resp,e.ack,e.timeout):E.sendGroupPic(e.target_gid,t,e.resp,e.ack,e.timeout)}},o.send(e.fd)})},E.sendSinglePic=function(e,t,o,i,r,s){new n(this).setType("across_single").setTarget(e).setAppkey(t).setImage(o).send(i,r,s)},E.sendGroupPic=function(e,t,o,i,r){new n(this).setType("group").setTarget(e).setImage(t).send(o,i,r)},E.sendGroupMsg=function(e,t,o,i,r){new n(this).setType("group").setTarget(e).setText(t).send(o,i,r)},E.sendSinglePic=function(e,t,o,i,r,s){new n(this).setType("across_single").setTarget(e).setAppkey(t).setImage(o).send(i,r,s)},E.createMsgBuilder=function(){return new n(this)},E.createGroup=function(e,t,n,o,i){var r=this;r.emitWithResp(r.events.CREATE_GROUP,{group_name:e,group_description:t},n,o,i)},E.getGroupList=function(e,t,n){var o=this;o.emitWithResp(o.events.GET_GROUPS_LIST,{},e,t,n)},E.getGroupInfo=function(e,t,n,o){var i=this;i.emitWithResp(i.events.GET_GROUP_INFO,{gid:e.toString()},t,n,o)},E.addGroupMember=function(e,t,n,o,i){var r=this;r.emitWithResp(r.events.ADD_GROUP_MEMBER,{gid:e.toString(),member_usernames:t},n,o,i)},E.addAcrossGroupMember=function(e,t,n,o,i){var r=this;r.emitWithResp(r.events.ADD_ACROSS_GROUP_MEMBER,{gid:e.toString(),member_usernames:t},n,o,i)},E.delGroupMember=function(e,t,n,o,i){var r=this;r.emitWithResp(r.events.DEL_GROUP_MEMBER,{gid:e.toString(),member_usernames:t},n,o,i)},E.delAcrossGroupMember=function(e,t,n,o,i){var r=this;r.emitWithResp(r.events.DEL_ACROSS_GROUP_MEMBER,{gid:e.toString(),member_usernames:t},n,o,i)},E.getGroupMembers=function(e,t,n,o){var i=this;i.emitWithResp(i.events.GET_GROUP_MEMBERS,{gid:e.toString()},t,n,o)},E.updateGroupInfo=function(e,t,n,o,i,r){var s=this;s.emitWithResp(s.events.UPDATE_GROUP_INFO,{gid:e.toString(),group_name:t,group_description:n},o,i,r)},E.exitGroup=function(e,t,n,o){var i=this;i.emitWithResp(i.events.EXIT_GROUP,{gid:e.toString()},t,n,o)},E.getConversations=function(e,t,n){var o=this;o.emitWithResp(o.events.GET_CONVERSATIONS,{},e,t,n)},E.getNoDisturb=function(e,t,n){var o=this;o.emitWithResp(o.events.NO_DISTURB,{version:0},e,t,n)},E.addSingleNoDisturb=function(e,t,n,o){var i=this;i.emitWithResp(i.events.ADD_MSG_NO_DISTURB_SINGLE,{version:0,target_name:e},t,n,o)},E.deleteSingleNoDisturb=function(e,t,n,o){var i=this;i.emitWithResp(i.events.DELETE_MSG_NO_DISTURB_SINGLE,{version:0,target_name:e},t,n,o)},E.addGroupNoDisturb=function(e,t,n,o){var i=this;i.emitWithResp(i.events.ADD_MSG_NO_DISTURB_GROUP,{version:0,gid:e.toString()},t,n,o)},E.deleteGroupNoDisturb=function(e,t,n,o){var i=this;i.emitWithResp(i.events.DELETE_MSG_NO_DISTURB_GROUP,{version:0,gid:e.toString()},t,n,o)},E.addGlobalNoDisturb=function(e,t,n){var o=this;o.emitWithResp(o.events.ADD_MSG_NO_DISTURB_GLOBAL,{version:0,none:""},e,t,n)},E.deleteGlobalNoDisturb=function(e,t,n){var o=this;o.emitWithResp(o.events.DELETE_MSG_NO_DISTURB_GLOBAL,{version:0,none:""},e,t,n)},E.getBlackList=function(e,t,n){var o=this;o.emitWithResp(o.events.GET_BLACK_LIST,{},e,t,n)},E.addBlackList=function(e,t,n,o){var i=this;i.emitWithResp(i.events.ADD_BLACK_LIST,{member_usernames:e},t,n,o)},E.delBlackList=function(e,t,n,o){var i=this;i.emitWithResp(i.events.DEL_BLACK_LIST,{member_usernames:e},t,n,o)},E.loginOut=function(){if(!g)return console.error("必须执行login操作成功后才能执行此动作");var e=this;e.disconnect()},E.onMsgReceive=function(e){var t=this;t.on(t.events.MSG_SYNC,function(n){_&&console.log("消息同步:"+JSON.stringify(n)),n.messages.forEach(function(t){var n={};n.target_type=t.content.target_type,n.target_name=t.content.target_name,n.target_id=t.content.target_id,n.from_name=t.content.from_name,n.from_id=t.content.from_id,n.from_platform=t.content.from_platform,n.create_time=t.ctime_ms,n.msg_type=t.content.msg_type,n.msg_body=t.content.msg_body,n.msg_body.isFileUploaded&&delete n.msg_body.isFileUploaded,"image"==t.content.msg_type?n.msg_body.media_url=m+t.content.msg_body.media_id:"voice"==t.content.msg_type&&(n.msg_body.media_url=m+t.content.msg_body.media_id+".mp3"),0===t.msg_level?n.msg_level="normal":1===t.msg_level&&(n.msg_level="across",n.target_appkey=t.content.target_appkey,n.from_appkey=t.content.from_appkey),e&&e(n)});var o=[];Array.prototype.push.apply(o,n.messages.map(function(e){return{msg_id:e.msg_id,msg_type:e.msg_type,from_uid:e.from_uid,from_gid:e.from_gid}})),t.emitWithCallback(t.events.MSG_RECV,{messages:o})})},E.onDisconnect=function(e){},E.onEvent=function(e){var t=this;t.on(t.events.EVENT_NOTIFICATION,function(n){_&&console.log("事件同步 : "+JSON.stringify(n)),e&&e(n),t.emitWithCallback(t.events.EVENT_NOTIFICATION,{event_id:n.event_id,event_type:n.event_type,from_uid:n.from_uid,gid:n.gid})})},E.emitWithResp=function(e,t,n,o,i){if(!g)return console.error("必须执行login操作后能执行此动作");t.rid=d++,g.emit(e,t);var r=setTimeout(function(){i&&i(t),delete p[t.rid]},a);return p[t.rid]={data:t,time_out_task:r,ack_callback:o,resp_callback:n},t},E.emitWithCallback=function(e,t){return g?(t.rid=d++,void g.emit(e,t)):console.error("必须执行login操作成功后才能执行此动作")},E.on=function(){return g?void g.on.apply(g,arguments):console.error("必须执行login操作成功后才能进行此事件监听")},n.prototype.setType=function(e){return this.type=e,this},n.prototype.setAppkey=function(e){return this.appkey=e,this},n.prototype.setTarget=function(e,t){return this.target_id=e.toString(),this.target_name=t,this},n.prototype.setFromName=function(e){return this.from_name=e,this},n.prototype.setText=function(e,t){return this.msg_type="text",this.msg_body={text:e,extras:t},this},n.prototype.setImage=function(e){return this.msg_type="image",this.msg_body={media_id:e.media_id,media_crc32:e.media_crc32,width:e.width,height:e.height,format:e.format,fsize:e.fsize},this},n.prototype.setCustom=function(e){return this.msg_type="custom",this.msg_body=e,this},n.prototype.build=function(){var e=l.username;if(!e)return console.error("必须执行login操作后能执行此动作");if("single"!=this.type&&"group"!=this.type&&"across_single"!=this.type)return console.log("消息类型必须是single或group");if(!this.target_id)return console.error("target_id不能为空");if("text"==this.msg_type){if(!this.msg_body.text)return console.error("未设置文本消息内容")}else if("custom"==this.msg_type){if(!this.msg_body)return console.error("custom对象不能为空")}else if("voice"==this.msg_type){if(!this.msg_body.media_id)return console.error("未设置voice消息media_id字段");if(!this.msg_body.duration)return console.error("未设置voice消息duration字段");if(!this.msg_body.format)return console.error("未设置voice消息format字段");if(!this.msg_body.fsize)return console.error("未设置voice消息fsize字段")}else{if("image"!=this.msg_type)return console.error("请指定消息类型");if(!this.msg_body.media_id)return console.error("未设置image消息media_id字段");if(!this.msg_body.width)return console.error("未设置image消息width字段");if(!this.msg_body.height)return console.error("未设置image消息height字段")}var t={version:this.version,target_type:this.type,from_platform:this.from_platform,target_id:this.target_id,target_name:this.target_name,from_id:e,from_name:this.from_name,create_time:(new Date).getTime(),msg_type:this.msg_type,msg_body:this.msg_body};return this.appkey&&(t.target_appkey=this.appkey,t.from_appkey=this.from_appkey),t},n.prototype.send=function(e,t,n){var o=this.build();if(o){var i,r;"single"==o.target_type?(i=this.client.events.S_SINGLE_TEXT,r={target_name:o.target_id}):"across_single"==o.target_type?(i=this.client.events.S_ACROSS_SINGLE_TEXT,o.target_type="sigle",r={target_name:o.target_id,appkey:o.target_appkey}):(i=this.client.events.SEND_GROUP_MSG,r={target_gid:o.target_id}),_&&console.log(JSON.stringify(o)),r.content=o,this.client.emitWithResp(i,r,e,t,n)}},f}},{1:1,4:4}],3:[function(e,t,n){var o=e(2)();window.JIM=t.exports=new o},{2:2}],4:[function(e,t,n){"use strict";t.exports=function(){function e(e,t){var n=(65535&e)+(65535&t),o=(e>>16)+(t>>16)+(n>>16);return o<<16|65535&n}function t(e,t){return e<<t|e>>>32-t}function n(n,o,i,r,s,_){return e(t(e(e(o,n),e(r,_)),s),i)}function o(e,t,o,i,r,s,_){return n(t&o|~t&i,e,t,r,s,_)}function i(e,t,o,i,r,s,_){return n(t&i|o&~i,e,t,r,s,_)}function r(e,t,o,i,r,s,_){return n(t^o^i,e,t,r,s,_)}function s(e,t,o,i,r,s,_){return n(o^(t|~i),e,t,r,s,_)}function _(t,n){t[n>>5]|=128<<n%32,t[(n+64>>>9<<4)+14]=n;var _,a,c,u,g,f=1732584193,m=-271733879,d=-1732584194,p=271733878;for(_=0;_<t.length;_+=16)a=f,c=m,u=d,g=p,f=o(f,m,d,p,t[_],7,-680876936),p=o(p,f,m,d,t[_+1],12,-389564586),d=o(d,p,f,m,t[_+2],17,606105819),m=o(m,d,p,f,t[_+3],22,-1044525330),f=o(f,m,d,p,t[_+4],7,-176418897),p=o(p,f,m,d,t[_+5],12,1200080426),d=o(d,p,f,m,t[_+6],17,-1473231341),m=o(m,d,p,f,t[_+7],22,-45705983),f=o(f,m,d,p,t[_+8],7,1770035416),p=o(p,f,m,d,t[_+9],12,-1958414417),d=o(d,p,f,m,t[_+10],17,-42063),m=o(m,d,p,f,t[_+11],22,-1990404162),f=o(f,m,d,p,t[_+12],7,1804603682),p=o(p,f,m,d,t[_+13],12,-40341101),d=o(d,p,f,m,t[_+14],17,-1502002290),m=o(m,d,p,f,t[_+15],22,1236535329),f=i(f,m,d,p,t[_+1],5,-165796510),p=i(p,f,m,d,t[_+6],9,-1069501632),d=i(d,p,f,m,t[_+11],14,643717713),m=i(m,d,p,f,t[_],20,-373897302),f=i(f,m,d,p,t[_+5],5,-701558691),p=i(p,f,m,d,t[_+10],9,38016083),d=i(d,p,f,m,t[_+15],14,-660478335),m=i(m,d,p,f,t[_+4],20,-405537848),f=i(f,m,d,p,t[_+9],5,568446438),p=i(p,f,m,d,t[_+14],9,-1019803690),d=i(d,p,f,m,t[_+3],14,-187363961),m=i(m,d,p,f,t[_+8],20,1163531501),f=i(f,m,d,p,t[_+13],5,-1444681467),p=i(p,f,m,d,t[_+2],9,-51403784),d=i(d,p,f,m,t[_+7],14,1735328473),m=i(m,d,p,f,t[_+12],20,-1926607734),f=r(f,m,d,p,t[_+5],4,-378558),p=r(p,f,m,d,t[_+8],11,-2022574463),d=r(d,p,f,m,t[_+11],16,1839030562),m=r(m,d,p,f,t[_+14],23,-35309556),f=r(f,m,d,p,t[_+1],4,-1530992060),p=r(p,f,m,d,t[_+4],11,1272893353),d=r(d,p,f,m,t[_+7],16,-155497632),m=r(m,d,p,f,t[_+10],23,-1094730640),f=r(f,m,d,p,t[_+13],4,681279174),p=r(p,f,m,d,t[_],11,-358537222),d=r(d,p,f,m,t[_+3],16,-722521979),m=r(m,d,p,f,t[_+6],23,76029189),f=r(f,m,d,p,t[_+9],4,-640364487),p=r(p,f,m,d,t[_+12],11,-421815835),d=r(d,p,f,m,t[_+15],16,530742520),m=r(m,d,p,f,t[_+2],23,-995338651),f=s(f,m,d,p,t[_],6,-198630844),p=s(p,f,m,d,t[_+7],10,1126891415),d=s(d,p,f,m,t[_+14],15,-1416354905),m=s(m,d,p,f,t[_+5],21,-57434055),f=s(f,m,d,p,t[_+12],6,1700485571),p=s(p,f,m,d,t[_+3],10,-1894986606),d=s(d,p,f,m,t[_+10],15,-1051523),m=s(m,d,p,f,t[_+1],21,-2054922799),f=s(f,m,d,p,t[_+8],6,1873313359),p=s(p,f,m,d,t[_+15],10,-30611744),d=s(d,p,f,m,t[_+6],15,-1560198380),m=s(m,d,p,f,t[_+13],21,1309151649),f=s(f,m,d,p,t[_+4],6,-145523070),p=s(p,f,m,d,t[_+11],10,-1120210379),d=s(d,p,f,m,t[_+2],15,718787259),m=s(m,d,p,f,t[_+9],21,-343485551),f=e(f,a),m=e(m,c),d=e(d,u),p=e(p,g);return[f,m,d,p]}function a(e){var t,n="";for(t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function c(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function u(e){return a(_(c(e),8*e.length))}function g(e,t){var n,o,i=c(e),r=[],s=[];for(r[15]=s[15]=void 0,i.length>16&&(i=_(i,8*e.length)),n=0;16>n;n+=1)r[n]=909522486^i[n],s[n]=1549556828^i[n];return o=_(r.concat(c(t)),512+8*t.length),a(_(s.concat(o),640))}function f(e){var t,n,o="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=o.charAt(t>>>4&15)+o.charAt(15&t);return i}function m(e){return unescape(encodeURIComponent(e))}function d(e){return u(m(e))}function p(e){return f(d(e))}function l(e,t){return g(m(e),m(t))}function E(e,t){return f(l(e,t))}function S(e,t,n){return t?n?l(t,e):E(t,e):n?d(e):p(e)}return S}},{}]},{},[3])(3)});